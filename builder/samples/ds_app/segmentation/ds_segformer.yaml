# SPDX-FileCopyrightText: Copyright (c) 2025 NVIDIA CORPORATION & AFFILIATES. All rights reserved.
# SPDX-License-Identifier: Apache-2.0
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

name: "deepstream-app"
model_repo: "/workspace/models"

models:
- name: citysemsegformer
  backend: deepstream/nvinfer
  max_batch_size: 2
  input:
  - name: media_url
    data_type: TYPE_CUSTOM_BINARY_URLS
    dims: [ -1 ]
  - name: mime
    data_type: TYPE_CUSTOM_DS_MIME
    dims: [ -1 ]
  output:
  - name: output
    data_type: TYPE_CUSTOM_DS_METADATA
    dims: [ -1 ]
  parameters:
    # timeout in nanoseconds for batching multiple inputs
    batch_timeout: -1
    infer_config_path:
      - nvdsinfer_config.yaml
    render_config:
      enable_display: true
      enable_osd: true
      # enable_stream: true
      # rtsp_mount_point: /ds_app
      # rtsp_port: 8554
    inference_timeout: 5